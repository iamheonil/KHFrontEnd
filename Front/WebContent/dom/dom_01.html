<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>

    <script type="text/javascript">
        // 잘못 된 DOM 객체 사용 방법
        // DOM 트리를 구성하기전에 document를 이용하여 노드에 접근하면 안된다.
        // DOM 트리는 HTML 문서 전체를 브라우저가 읽은 이후에 완성된다.
        // 여기서는 아직 읽혀지지 않은 header 라는 ID를 찾고 있기 때문에
        // Null 이 출력되는 것이다, Null 출력을 피하기 위해서는 DOM트리 구성이 완성된 이후에 코드가 실행되도록 만들어야한다.

        var h = document.getElementById("header");
        console.log(h);
        // Null 이 출력되는데, 존재하지가 않는다는 것.

        //        h.style.color = "red";

    </script>


</head>

<body>
    <!-- mouseenter : 요소 위로 마우스가 올라갔을 때 발생하는 이벤트 -->
    <!-- mouseleave : 요소 위에서 마우스가 벗어났을 때 발생하는 이벤트 -->
    
    <script type="text/javascript">
        // DOM 객체 이용 방법 3
        // 이벤트 처리코드 작성, document 객체를 이용한다.
        
        function chgBgYellow() {
//            console.log("Yellow!");
            
            var y = document.getElementById("header")
            y.style.backgroundColor = "YELLOW";
            // 마우스가 올라가면 배경색을 노란색으로 설정한다.
            
        }
        
        function chgBgNone() {
//            console.log("None!");
            
            var n = document.getElementById("header")
            n.style.backgroundColor = "white";
            // 마우스가 벗어나면 배경색을 하얀색으로 설정한다.
        }
        
    </script>

    <h1 id="header" onmouseenter="chgBgYellow();" onmouseleave="chgBgNone();">
        Header Text
    </h1>

    <!-- Null 출력을 피하기 위해 Body 태그가 닫히기 직전에 스크립트 코드를 넣어준다. -->
    <!-- DOM 객체 이용 방법 1 -->
    <script type="text/javascript">
        var bid = document.getElementById("header");
        console.log(bid);

        bid.style.color = "dodgerblue";
        // 위의 head 부분에서는 null 이 출력 되어 style 태그에서 Error가 발생했는데
        // header의 DOM 트리가 구성되고 나서는 정상적으로 작동한다.

        // bid.style.border = "1px solid black";

        setTimeout(function() {
            bid.style.color = "red";
            bid.style.border = "1px solid black";
        }, 1000)

        // document.getElementById("header").style.color = "green";
        // 이렇게 작업하는것은 좋지 않기 때문에 웬만하면 변수에 담아 사용하는것이 좋다.

        console.log(bid.style.border);

    </script>

    <!-- DOM 객체 이용 방법 2 -->
    <script type="text/javascript">
        // DOM 트리가 완성된 이후 수행할 코드로 document. 객체를 사용한다.

        // 적재시키다, 쌓아놓다 - load (Event)
        // RAM에 객체가 올라가거나 함수에대한 정의코드가 올라가면 load 했다고 얘기한다고 한다. (메모리에 적재됐음)
        // Event - 마우스 클릭, 휠 클릭 등 여러가지가 있다.

        window.onload = function() {
            console.log("=== window.onload ===");
            var e = document.getElementById("header")
            console.log(e);
        };

        // window.onload() - HTML코드를 전부 읽고나서 메모리에 DOM객체를 전부 적재시킨 시점에 수행할 코드를 작성하는 속성
        // onload - load 이벤트가 발생했을 때 실행될 코드를 정의한다.
        // 주로 이벤트 리스너라고 한다. (이벤트가 발생하면 실행되는 코드)
        // 그렇지만 위의 onload 가 이벤트 리스너, 핸들러라고 생각하면 안되고 안에 들어가 있는 function 을 리스너, 핸들러로 인지해야한다.
        // 이벤트 리스너 == 이벤트 처리코드 == 이벤트 핸들러

    </script>

</body>

</html>
